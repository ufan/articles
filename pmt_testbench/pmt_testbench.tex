\documentclass[preprint, times]{elsarticle}

%%%%%%%%%%%%%%   Preample  %%%%%%%%%%%%%%%%%%

%% The amssymb package provides various useful mathematical symbols
\usepackage{amssymb}
%% The amsthm package provides extended theorem environments
\usepackage{amsthm}

%% for celcius symbol
\usepackage{textcomp}

%% for units
\usepackage{siunitx}

%% The lineno packages adds line numbers. Start line numbering with
%% \begin{linenumbers},  end it with \end{linenumbers}. Or switch it on
%% for the whole article with \linenumbers.
\usepackage{lineno}
\modulolinenumbers[5]

\usepackage{hyperref}

%% package for type Greek letters without entering into math-mode
\usepackage{textgreek}

%% package for large picture in two-colume
\usepackage{dblfloatfix}
\usepackage{fixltx2e}
\usepackage{float}

%% only jpg pdf eps are allowed, tiff format are not allowed in latex
%% eps in principle can't be compiled by pdflatex, pdf not compiled by latex, but Kile can do some intermedate conversion to allow this happen.
\DeclareGraphicsExtensions{.pdf, .eps, .jpg}
%%opening
\journal{NIMA}

\begin{document}

%%%%%%%%%%%%%% Front Matter %%%%%%%%%%%%%%%%%%
\begin{frontmatter}

\title{A versatile PMT test bench and its application in the DAMPE-PSD}

\author[imp,lzu,ucas]{Yong Zhou}
%\ead{yong@impcas.ac.cn}

\author[imp]{Yuhong Yu}
%%\ead{yuyuhong@impcas.ac.cn}

\author[imp]{Zhiyu Sun\corref{corresponding_author}}
\cortext[corresponding_author]{Corresponding author}
\ead{sunzhy@impcas.ac.cn}

\author[imp]{Yongjie Zhang}
\author[imp]{Fang Fang}
\author[imp]{Junling Chen}

\author[lzu]{Bitao Hu}

\address[imp]{Institute of Modern Physicas, Chinese Academy of Sciences,  509 Nanchang Road,  Lanzhou,  730000,  P.R.China}
\address[lzu]{School of Nuclear Science and Technology,  Lanzhou University,  222 South Tianshui Road,  Lanzhou,  730000,  P.R.China}
\address[ucas]{Graduate University of the Chinese Academy of Sciences,  19A Yuquan Road,  Beijing,  100049,  P.R.China}

%%
\begin{abstract}

A versatile test bench system, dedicated for massive PMT characterization, is developed at the Institute of Modern Physics, Chinese Academy of Sciences. 
It can perform many test contents with large capacity and high level of automation, and the migration from one testing configuration to another is lightweight and time-saving. 
This system has been used in the construction of the Plastic Scintillator Detector of DArk Matter Particle Explorer already, and a total of 570 Hamamastu R4443 tubes have been tested successfully.
\end{abstract}

%%
\begin{keyword}
PMT
\sep PMT characterization
\sep test bench
\sep DAMPE-PSD
\sep R4443
%% PACS codes here,  in the form: \PACS code \sep codes

%% MSC codes here,  in the form: \MSC code \sep code
%% or \MSC[2008] code \sep code (2000 is the default)

\end{keyword}

\end{frontmatter}

\linenumbers
%%%%%%%%%%%%%%%%  Introduction  %%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\label{sec:introduction}

Since invented about 80 years ago, Photomultiplier tubes (PMTs) have been widely used as photosensors in nuclear and particle physics experiments due to the high sensitivity, fast time response and other benefits they have. 
Today, large experiments may contain thousands or even more PMTs. To make the detectors work well and get optimized performance, it's important to study the characteristics of each PMT before they are put into usage. 
The manufacturers can provide some information about the PMTs they offered, but this can only give a rough indication of the performance because their test procedures~\cite{hamamatsu} are quite different from the usage of PMTs in real cases. 
On the other hand, the experiments may have special requirements for some characteristics of the PMTs, which the manufacturers can not provide. 
Thus characterization of PMTs in the laboratory is mandatory in large experiments.

Testing a large number of PMTs in limited time is a tough job, and usually a dedicated test bench is constructed to facilitate this work~\cite{barnhill_testing_2008,akgun_complete_2005,adragna_pmt-block_2006}.
Setting up a system like this is none trivial work, which demands considerable investment of time and effort.
On the other hand, testing of PMTs is a commonly encountered procedure and many components of the testing configuration can be shared among different applications.

In this paper, a versatile test bench dedicated for PMT characterization is reported.
The test bench is designed to be a standard laboratory equipment for fast PMT characterization for several experiments prepared and planned at the Institute of Modern Physics(IMP), Chinese Academy of Sciences(CAS).
To accommodate the various requirements of different experiments, the test bench has adopted a modular design pattern both in the hardware and the associated software platform.
This makes the migration from one testing configuration to another light-weight and time-saving.
Detailed description can be found in Sec.\ref{sec:description}.

The first user of this test bench is the Plastic Scintillator Detector(PSD), a key component of the DArk Matter Particle Explorer(DAMPE)~\cite{Chang_Jin_dampe}, which is a satellite-borne exeperiment. 
PSD is a large-area plastic scintillator array which will work for high energy e/$\gamma$ discrimination as well as charge measurement up to Z=20 by measuring the energy deposited.
PSD will use PMTs for readout, and the test work for these PMTs using this test bench is very successful. Some of the test results are shown in Sec.\ref{sec:application}.

%%%%%%%%%%%%%%%% Main Text Body %%%%%%%%%%%%%%%%%%%%%%%
\section{Description of the test bench}
\label{sec:description}

\begin{figure*}
 \centering
 \includegraphics[width=140mm]{FIG1}
\caption{Schematic diagram of the PMT test bench system.}
\label{fig:FIG1}
\end{figure*}

As a massive PMT test bench, some aspects need to be considered in the design:
\begin{itemize}
 \item \textit{Large capacity}: This is the primary driving force for developing a test bench dedicated for massive PMT characterization.
 Testing multiple tubes simultaneously can increase the efficiency and save time tremendously, and this is a critical factor in projects involving large number of PMTs. 
 On the other hand, testing too many tubes at the same time will make the system very complicated and difficult to operate. 
 So we need to make a tradeoff between efficiency and complexity.
 \item \textit{Automation}: A single test run for PMT characterization usually takes several hours, during which most operations are trivial jobs like changing voltage, changing light intensity and so on.
 Manual operations are inefficient and unreliable in such a long period.
 Computer controllable hardware should be used whenever possible and corresponding software should be developed to automate these trivial operations.
 Manual intervention is only expected in the beginning when mounting PMTs and configuring the software and in the end when unmounting PMTs and assessing testing result. 
 \item \textit{Versatility}: The test bench is not designed for a specific experiment only. 
 We should consider as many potential use cases as possible, and the appropriate hardware should be set up in the first place.
 For example, the photocathode scanning capability is desirable in cases that many scintillators are coupled to a single PMT~\cite{tof_pet}. 
 \item \textit{Flexibility}: As a by-product of versatility, flexibility is needed both in terms of hardware and software.
 The hardware platform should be extensible and allow complex testing configurations.
 The software should accommodate any changes in the hardware easily, while keeping the high level functionality unchanged and portable. 
\end{itemize}

A schematic diagram of the PMT test bench is shown in Fig.\ref{fig:FIG1}, and up to 25 PMTs can be tested simultaneously.
Light pulses are distributed to each tube through an integrating sphere and a fiber bundle, which are mounted on a three-dimensional motorized stage.
PMTs under test will be mounted on a separate fixed stage, thus allowing position scanning of all tubes simultaneously.
There also has 2 PMTs fixed on the motorized stage, serving as a reference to monitor the stability of the light source as well as the performance of the whole system.
Both stages are housed in a light-tight container made of aluminum alloy, with a dimension of $176cm\times100cm\times78cm$.
The container is painted black inside and the lid can be removed for operations such as tube mounting.

For the proper operation of the test bench, a variety of auxiliary equipment is needed. 
These equipment are divided into four groups according to the functions they provide: motion controller, pulse generator, high voltage supply and data acquisition system(DAQ).
The motion controller and the pulse generator are tightly coupled to the test bench itself, thus the same hardware can be reused for nearly all the cases the bench may work for.
On the other hand, DAQ and the high voltage supply system have closer relation to the underlying experiment which need massive PMT characterization, and normally project-specific hardware is preferred in different experiments. 
Originally, we equipped a universal CAEN SY1527LC~\cite{sy1527lc} power crate as the high voltage supply and a CAMAC system with CC-USB crate controller~\cite{cc_usb} as the DAQ.

All these equipment are placed outside the light-tight container, and the cables needed are led out through light-tight feedthroughs.
The control of all these equipment are integrated into a single software. The changing of hardware is handled smoothly in the software design and automation is realized in every aspect of the test bench.

The whole test bench system is sitting in a cleanroom at IMP, and the room temperature is kept to be 22\textpm~2\textcelsius~all the time. 
In the following sections, some key components of the test bench will be described in detail.

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG2}
\caption{Motorized and fixed stages before assembly.
Fixtures for integrating sphere, fibers and PMTs can be seen on top of them.}
\label{fig:FIG2}
\end{figure} 

\subsection{Motorized and Fixed Stages}
\label{sec:stages}

The motorized and fixed stages are the main body of the test bench.
All other objects inside the light-tight box will be mounted on the top of them.
In particular, customized fixtures for fibers, tubes and integration sphere have been designed for convenient and accurate positioning.

As shown in Fig.\ref{fig:FIG2}, both stages are covered with $1560mm\times250mm$ optical breadboards. 
These breadboards are made of \SI{2.5}{cm} thick stainless steel, providing substantial resistance to deformation in this application. 
And the grid pattern of tapped holes on their surface provide extra flexibility in the configuration as well as facilitates mounting/unmounting operations.

The load capacity of the motorized stage is \SI{30}{\kilo\gram} and it can do a 3-dimensional motion with the help of three stepping motors, which have a minimum step of \SI{1.56}{\micro\meter}.
The stage can move up to \SI{60}{\milli\meter} horizontally and \SI{70}{\milli\meter} vertically, and it's enough to cover any PMTs smaller than 2 inches, which are mostly used.
The stage can also move along the third direction for $15mm$, and this is to protect the fibers while mounting and unmounting the tubes as well as to control the gap between the fiber and the input window of PMT.
All the stepping motors are controlled by one motion controller MPC07SP from Leetro~\cite{leetro}, which also provides a PCI interface for remote control.

\subsection{Light Source}
\label{sec:light_source}

A fast response blue LED(\SI{3}{\watt}, \SIrange{465}{485}{\nano\meter}) is adopted as the light source of the test bench. This kind of LED has been used previously in the monitoring and calibration system of Neutron Wall Detector at IMP~\cite{yuyuhong_led} and proved to be suitable for massive light distribution. 
By coupling to a \SI{5}{\centi\meter} diameter integrating sphere~\cite{integrating_sphere}, which is painted interiorly with highly reflective material($\approx$\SI{98}{\percent} at \SI{400}{\nano\meter}), the LED is converted into a uniform light source.
The LED is fixed on a special designed base using thermally conductive silicone rubber and then coupled to the sphere directly, making the whole sphere as its heat sink to get better heat dissipation.

The general purpose pulse generator, Tektronix AFG3252~\cite{afg3252}, is adopted to drive the LED directly.
AFG3252 can adjust all the pulse parameters, such as width, leading/trailing edge and amplitude, in a wide range with high precision. This is a critical feature for a test bench with an objective of versatility, as diverse requirements for the light source exist in different applications. 
Besides the LED driving pulse, the AFG3252 can also output a synchronized pulse as the trigger signal to the DAQ system, which will simplify the DAQ configuration in most cases. 
AFG3252 also possesses a rich set of hardware interfaces for remote control. All these features make it an effective replacement of a dedicated LED driver. 

Before usage, the uniformity of the light source has been checked by using the same optical fiber to scan the output port surface of the integrating sphere. The fiber was coupled to a PMT to measure the light intensity, and the result is shown in Fig.\ref{fig:FIG3}. An uniformity within \textpm\SI{0.5}{\percent} has been reached, and this makes the coupling between the light source and the fiber bundle much easier and additional calibration for the spatial effect of the light source is not needed. 

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG3}
\caption{Spatial uniformity of the integrating sphere.
The output port has a diameter of \SI{14}{\milli\meter}.
Central \SI{12}{\milli\meter} is scanned both in the horizontal and verical direction with a step of \SI{1}{\milli\meter}}
\label{fig:FIG3}
\end{figure} 

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG4}
\caption{Integration of the light distribution system as a whole.
(1)LED glued on base (2)Integrating sphere (3)Fiber bundle}
\label{fig:FIG4}
\end{figure} 

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG5}
\caption{Up: Light output of 35 fibers measured at two light intensities with an amplitude difference of about 4 times.
Bottom: Ratio between the two measurements of each fiber, the results are consistent within \textpm\SI{0.3}{\percent}.}
\label{fig:FIG5}
\end{figure} 

\begin{figure*}
  \centering
 \includegraphics[width=125mm]{FIG6}
\caption{General PMT testing framework}
\label{fig:FIG6}
\end{figure*}

\subsection{Fiber Bundle}
\label{sec:fiber_bundle}

A bundle of 35 plastic clad silica fibers~\cite{optical_fibre}(25 for test channels, 2 for reference channels and 8 spares) is utilized to distribute light to every PMT.
Each fiber is \SI{1.5}{\meter} long and has a \SI{400}{\micro\meter} diameter core with a \SI{75}{\micro\meter} thick cladding, and the numerical aperture(NA) is 0.37.
The relatively large core and NA make the fiber an efficient light extractor of integrating sphere output. 

For easier manipulation and to protect the fibers from mechanical damage, both ends of the fiber bundle are coated with stainless steel ferrules.
The bundle end is coupled to the center of the output port of integrating sphere using a stable fiber alignment stage.
On the other end, each fiber is fixed using a customized fiber holder, which allows two-dimensional position adjustment, and is aligned to the center of the corresponding PMT window with a precision of \SI{0.5}{\milli\meter}.

The light output of each fiber was calibrated after coupling the bundle to the integrating sphere(see Fig.\ref{fig:FIG4}).
For this calibration, the same PMT was used to scan all the fibers successively, while the light intensity fluctuation of the light source was monitored by another PMT.
After the light intensity correction, a variance of \SI{10}{\percent} is observed among the fibers, and this result is a direct reflection of the light transmission difference among the fibers because the contribution from light source non-uniformity is negligible.
Moreover, different light intensities were used in the calibration process, and the result shows that the transmission has no dependency on the light intensity as shown in Fig.\ref{fig:FIG5}. 
This is within the expectation, as the transmission coefficient is an intrinsic characteristic of the fiber itself.
The transmission difference of the fibers from this calibration will be used as correction constants in the future measurements using this test bench.

\begin{figure*}
 \centering
 \includegraphics[width=125mm]{FIG7}
\caption{Integration of all components of the test bench for R4443 characterization.
Voltage dividers, which are based on the same design as those used in the final assembly, are utilized. 
20 rare tubes are mounted for test and 2 reference tubes can be seen in the bottom left corner of the picture. 
}
\label{fig:FIG7}
\end{figure*}

\subsection{Software}
\label{sec:software}

As the PMT test bench is a combination of many different equipment and systems, an integrated control software will play a very important role. The software for the test bench is developed in Windows with C++ and divided into three hierarchies as follows:
\begin{enumerate}
 \item \textit{Device abstraction}, which not only serves as an interface to the hardware, but also handles the abstraction of different types of devices. 
 \item \textit{Framework libraries}, which defines a general testing procedure and provides utility classes for configuration and management.
 \item \textit{User interface}, which provides command line based or graphical executable for user interaction. 
\end{enumerate}

Instead of developing a dedicated program each time a hardware changes, an abstraction of the devices is adopted to separate the testing procedure from hardware implementation details. 
Abstract classes are defined for the four essential types of controlling device as shown in the rounded boxes in Fig.\ref{fig:FIG1}.
New hardware only needs to inherit from the corresponding abstract class and implement its interface methods and then registered in the singleton class \textit{PTDeviceManager}, leaving all other part of the software unchanged.
Currently, concrete device classes for the hardware described in this section have all been implemented and fully tested.

Built upon the abstract device interface, a general testing framework is defined as shown in Fig.\ref{fig:FIG6}.
\textit{PTVProgram} represents the measurement for a specific characteristic of PMT, such as cathode uniformity, gain and so on.
\textit{PTVTest} is a subunit of \textit{PTVProgram}, which encapsulates the real device operations performed under a specific condition.
A \textit{PTVProgram} may consist of a series of \textit{PTVTest}s, which are invoked sequentially in a test loop.
For example, in cathode uniformity measurement, the stepping motor will move to a series of positions and the PMT response will be recorded by the DAQ at each position.
Here, device operations performed at each position constitute a \textit{PTVTest} and tests at all positions constitute a \textit{PTVProgram}.
Additional operations may be added in the \textit{PreTest} and \textit{PostTest} methods of \textit{PTVProgram}, which will be invoked before and after the test loop respectively.
Typically, PMT warming can be performed in \textit{PreTest} and analysis can be done in \textit{PostTest}.
\textit{PTVProgram}s of various testing objectives will finally be chained together to constitute a complete characterization of PMT.

For easy usage, a light-weight user interface based on PDCurses~\cite{pdcurses} has also been developed.
This program features in device control, status monitoring and information logging.
Thanks to the abstraction described above, the architecture of the program is rather independent of the specific hardware used and the testing programs performed.
A decoding function from binary file to root file~\cite{root} is also incorporated into it for online monitoring.
However, more detailed analysis are considered project-specific and not included in the program. 

\section{Application in the construction of DAMPE PSD}
\label{sec:application}

PSD adopts the Hamamastu R4443 PMT, which is a low noise 10 stages tube ruggedized for space usage, for scintillation light detection.
To satisfy the large dynamic range requirement of PSD, two dynodes, 5 and 8, are readout for each PMT, 
and the signals are processed by a highly-sensitive ASIC chip(VA160~\cite{va160}) following with an ADC of 14~bits resolution~\cite{fee}. 
In addition to the dynamic range, PSD also requires a \SI{25}{\percent} uniformity among all the PMTs(dynode8). 
So both the gain of dynode8 and the gain between dynode8 and dynode5 of each PMT need to be measured before the installation.

Concrete \textit{PTVProgram}s for gain, dynode8/dynode5 ratio and cathode uniformity measurements have been implemented for this purpose.
To obtain more realistic results, a standalone signal processing and acquiring system~\cite{fee} was adopted instead of the normal CAMAC system used with the test bench. 
This new system is mainly a copy of the real ones used in PSD, and a dedicated \textit{PTVDaq} class based on NI-VISA library~\cite{ni_visa} has been implemented for it.

For a single run, about 20 tubes are mounted and tested, as shown in Fig.\ref{fig:FIG7}.
And it takes normally 5 hours for a complete characterization, including 2 hour's PMT warming time. 
We performed 28 test runs in about a month, and totally 570 R4443 tubes have been studied carefully with this PMT test bench. 
All the data and analysis results are stored in a MySQL database for easy query, and PMTs for PSD will be selected from them based on these data.

The selection criteria and procedure are not the subject of this article.
Here, only the major results are presented with a focus on the demonstration of the validity of the test bench. 

\subsection{Gain of Dynode8}
\label{sec:psd_gain}

The gain of dynode8 is measured by recording the response of PMT at a certain setting of the light source. 
This is a relative method and the result depends on the light intensity:
\begin{equation}
 G_{relative} = L_i \times G(V) = L_i k V^\beta
\end{equation}
where $G(V)$ is the absolute gain of PMT and $L_i$ is the light intensity at a specific light source setting.
$G_{relative}$ is a direct reflection of $G(V)$ if the inconsistency of light intensity can be eliminated.
Two corrections are made to accomplish this goal, as follows: 
\begin{equation}
 G_{relative} = \frac{A_{Mean}}{K_{RunID} T_{ChID}}
\end{equation} 
where $A_{Mean}$ is the mean value of the raw ADC spectrum measured at the specified light source setting,
$K_{RunID}$ is the light intensity fluctuation of LED between different test runs and $T_{ChID}$ is the light transmission difference among fibers of different testing channels.
$K_{RunID}$ can be calculated at each test run using the reference PMT.
$T_{ChID}$ is a constant parameter, which has been measured accurately before.
These corrections are made for all measurement results.

7 different high voltages, from \SIrange{700}{1000}{\volt} with a \SI{50}{\volt} step, are scanned to obtain the gain variation as a function of supply voltage for each PMT, and the results are fitted using the power law function.
Based on the fitting result, the relative gain at a certain supply voltage is calculated for comparison with the parameters on the data sheets provided by Hamamastu.
Linear correlation between the calculated gain and the anode blue sensitivity index has been observed, while no relation to the cathode blue sensitivity has been found(see Fig.\ref{fig:FIG8}).
This result is a direct demonstration of the validity of our testing method.

5 light source settings, with a maximum intensity difference of about 2 times, have been used for the relative gain measurement.
The results from different light intensities are cross checked and they are consistent with each other.
Distribution of the relative gain at 850V is shown in Fig.\ref{fig:FIG9}, where all the tubes are normalized to the one with the smallest gain. 
A maximum of about 5.5 times difference in the gain has been observed.

\begin{figure}[h!]
 \centering
 \includegraphics[width=90mm]{FIG8}
\caption{Correlation between the parameters given by Hamamastu and the gain measured using the test bench.
Data are normalized to the same tube.}
\label{fig:FIG8}
\end{figure} 

\begin{figure}[h!]
 \centering
 \includegraphics[width=90mm]{FIG9}
\caption{Relative gain distribution at 850V measured using light intensity 5.
Data are normalized to the tube of the smallest gain.}
\label{fig:FIG9}
\end{figure}

\subsection{Gain ratio between Dynode8 and Dynode5}
\label{sec:psd_dy58}

\begin{figure}[h!]
 \centering
 \includegraphics[width=90mm]{FIG10}
\caption{Example of the measurement of dynode8/dynode5 ratio.
Correlation between dynode5 and dynode8 at 1000V, 850V and 700V is presented for a typical tube and the saturation of dynode8 signal is clearly seen.
Power law fit to the measured dynode8/dynode5 of this tube at 7 voltage steps is shown in the inset graph.
}
\label{fig:FIG10}
\end{figure} 

\begin{figure}[h!]
 \centering
 \includegraphics[width=90mm]{FIG11}
\caption{Distribution of the dynode8/dynode5 ratio at \SI{820}{\volt} calculated based on the fitted power law function.}
\label{fig:FIG11}
\end{figure} 

The gain ratio between dynode8 and dynode5 is measured by varying the light intensity in a large range until saturation of the dynode8 signal is observed, as shown in Fig\ref{fig:FIG10}.
The same procedure is repeated at 7 different supply voltages, from \SIrange{700}{1000}{\volt} with a \SI{50}{\volt} step, to obtain the dynode8/dynode5 dependency on voltage.
As with the gain of dynode8, the dependency can be fitted accurately with a power law function, as shown in the inset graph of Fig.\ref{fig:FIG10}.
The ratio between the gain of dynode8 and dynode5 can then be calculated at any voltage value based on the fitting result.
As an example, the distribution of dynode8/dynode5 ratios at a centain supply voltage is shown in Fig.\ref{fig:FIG11}.
It can be seen that the variance is much smaller than that of gain.

\subsection{Cathode Uniformity}
\label{sec:psd_cathodescan}

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG12}
\caption{A typical cathode uniformity of R4443.
Relative gain at each position is normalized to the center of the input window.}
\label{fig:FIG12}
\end{figure} 

R4443 has a photocathode with a minimum effective area of about \SI{10}{\milli\meter} in diameter, and the uniformity of the cathode is also checked using our test bench.
This measurement is done by scanning the input window of R4443 in two perpendicular directions with a step of \SI{1}{\milli\meter}.
At each position, the relative gain is measured at a fixed light source setting according to the method described in Sec.\ref{sec:psd_gain}, and a typical result is shown in Fig.\ref{fig:FIG12}.

The relative gain we measured at each position is proportional to the total efficiency of light transmission, photoelectric conversion and electron collection at this point, and we can see the rapid drop of this efficiency at the edge of the cathode surface. 
If we define the uniform region as a region with the efficiency fluctuation less than \SI{10}{\percent}, we found that only \SI{75}{\percent} of the tested PMTs can have a uniform region larger than \SI{9}{\milli\meter} in diameter. 

\section{Summary}
\label{sec:summary}

A versatile PMT test bench system has been established at IMP, CAS. It's suitable for massive PMT test and has been used in the construction of DAMPE PSD already. Because the PMT test bench is monitored by two reference PMTs all the time, we can also get some knowledge about the performance of this system using the data obtained in the PMT characterization for DAMPE PSD.

The stability of these reference PMTs is checked firstly. The ratio, $M$, between the response of two reference PMTs is a parameter irrelevant to the light intensity:
\begin{equation}
 M = \frac{G_{ref1} T_{ref1}}{G_{ref2} T_{ref2}}
\end{equation}
where $G_{ref}$ is the gain of the reference PMT and $T_{ref}$ is the transmission coefficient of fibers coupled to this reference channel.
As $T_{ref}$ is a constant parameter, $M$ is only related to the gain difference between the reference PMTs.
Because these two PMTs are completely independent, $M$ is a good candidate to monitor the stability of the two PMTs. 
The $M$ values at various light intensities are calculated for all test runs and we found only a small variance of \SI{0.48}{\percent}, which verifies the high stability of the reference PMTs.

By checking the response of the reference PMTs with a certain setting of the light source, a maximum variation of \SI{4}{\percent} in the light intensity of LED is observed during a period of about one month.
Light intensity fluctuation can be corrected using the method described in \ref{sec:psd_gain}.
As two reference PMTs exists, this method can be validated by using one of them for correction and then checking the relative gain of the other. 
The result is shown in Fig.\ref{fig:FIG13}.
After the correction, stability of the light source is controlled within \textpm\SI{0.5}{\percent}.

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG13}
\caption{Stability of the light source monitored by reference PMT2 at 900V(other voltage values give the same results).
The data corresponds to a period of about one month and is all normalized to the first test run.
Red line: mean value of raw ADC counts recorded with the same light source setting before light intensity correction.
Blue line: relative gain measured using reference PMT1 for light intensity correction.}
\label{fig:FIG13}
\end{figure} 

\begin{figure}
 \centering
 \includegraphics[width=90mm]{FIG14}
\caption{Distribution of the ration between dynode8 and dynode5 of the reference PMTs measured by the test bench.
Results from all voltage steps are normalized to their respective mean value of all test runs.}
\label{fig:FIG14}
\end{figure} 

Reference PMTs underwent the same testing procedures as the tubes under test.
Thus, spread of the distribution of parameters of the reference PMTs is an indication of the uncertainty of the testing method.
As an example, distribution of the ratio between dynode8 and dynode5 of the reference PMTs is shown in Fig.\ref{fig:FIG14}, where the results from different voltage steps are normalized to their respective mean value of all test runs and filled together.
The variance is \SI{1.59}{\percent}, which is adopted as the testing uncertainty of the dynode8/dynode5 measurement.
In the same way, the uncertainty in the measurement of relative gain is estimated to be \SI{0.53}{\percent}. 

All these results have proved the high reliability of our test bench system.
Considering the flexible and open platform it possesses, the test bench is useful for any other projects that need massive PMT characterization. 

%%%%%%%%%%%%%%%% Acknowledgement %%%%%%%%%%%%%%%%%%%%%%%
\section*{Acknowledgement}
\label{sec:acknowledgement}

This work was supported by the Strategic Priority Research Program of the Chinese Academy of Science under Grant No. XDA04040202-3.


%%%%%%%%%%%%%%%%   Bibliography  %%%%%%%%%%%%%%%%%%%%%%%
%% bibliography style
\section*{References}
\label{sec:reference}
\bibliographystyle{elsarticle-num}

%% From BibTex file
\bibliography{mybib}


\end{document}
\endinput